type: edu
custom_name: WebSockets authentication
files:
  - name: backend/src/middleware/auth.js
    visible: true
    placeholders:
      - offset: 134
        length: 35
        placeholder_text: // Retrieve the JWT_SECRET environment variable
        dependency:
          section: Backend
          lesson: Authentication
          task: username_from_token
          file: backend/src/middleware/auth.js
          placeholder: 1
        is_visible: false
      - offset: 194
        length: 69
        placeholder_text: // Log message to help identify what went wrong
        dependency:
          section: Backend
          lesson: Authentication
          task: username_from_token
          file: backend/src/middleware/auth.js
          placeholder: 2
        is_visible: false
      - offset: 268
        length: 16
        placeholder_text: // Terminate the app with `1` exit code
        dependency:
          section: Backend
          lesson: Authentication
          task: username_from_token
          file: backend/src/middleware/auth.js
          placeholder: 3
        is_visible: false
      - offset: 337
        length: 42
        placeholder_text: "// Generate and return the jwt token with `{username}` payload"
        dependency:
          section: Backend
          lesson: Authentication
          task: username_from_token
          file: backend/src/middleware/auth.js
          placeholder: 4
        is_visible: false
      - offset: 468
        length: 29
        placeholder_text: // Get token from the authorization header
        dependency:
          section: Backend
          lesson: Authentication
          task: username_from_token
          file: backend/src/middleware/auth.js
          placeholder: 5
        is_visible: false
      - offset: 663
        length: 74
        placeholder_text: // Respond with the 401 status code
        dependency:
          section: Backend
          lesson: Authentication
          task: username_from_token
          file: backend/src/middleware/auth.js
          placeholder: 6
        is_visible: false
      - offset: 763
        length: 46
        placeholder_text: // Get a decoded payload using jwt.verify method
        dependency:
          section: Backend
          lesson: Authentication
          task: username_from_token
          file: backend/src/middleware/auth.js
          placeholder: 7
        is_visible: false
      - offset: 837
        length: 38
        placeholder_text: // Get a user from the user service
        dependency:
          section: Backend
          lesson: Authentication
          task: username_from_token
          file: backend/src/middleware/auth.js
          placeholder: 8
        is_visible: false
      - offset: 910
        length: 59
        placeholder_text: // Respond with the 401 status code
        dependency:
          section: Backend
          lesson: Authentication
          task: username_from_token
          file: backend/src/middleware/auth.js
          placeholder: 9
        is_visible: false
      - offset: 989
        length: 32
        placeholder_text: // Set the username property for the req
        dependency:
          section: Backend
          lesson: Authentication
          task: username_from_token
          file: backend/src/middleware/auth.js
          placeholder: 10
        is_visible: false
      - offset: 1030
        length: 7
        placeholder_text: // Call `next` method
        dependency:
          section: Backend
          lesson: Authentication
          task: username_from_token
          file: backend/src/middleware/auth.js
          placeholder: 11
        is_visible: false
      - offset: 1213
        length: 27
        placeholder_text: // Retrieve the token
      - offset: 1351
        length: 46
        placeholder_text: // Get a decoded payload using jwt.verify method
      - offset: 1425
        length: 38
        placeholder_text: // Get a user from the user service
      - offset: 1559
        length: 35
        placeholder_text: // Set the username property for the socket
  - name: backend/src/routes/messages.js
    visible: true
    placeholders:
      - offset: 479
        length: 4
        placeholder_text: const username = req.body.username;
        dependency:
          section: Backend
          lesson: Authentication
          task: username_from_token
          file: backend/src/routes/messages.js
          placeholder: 1
        is_visible: false
      - offset: 535
        length: 4
        placeholder_text: |-
          if (!username) {
                      return res.status(400).json({ message: 'Username is required' });
                  }
        dependency:
          section: Backend
          lesson: Authentication
          task: username_from_token
          file: backend/src/routes/messages.js
          placeholder: 2
        is_visible: false
      - offset: 717
        length: 12
        placeholder_text: username
        dependency:
          section: Backend
          lesson: Authentication
          task: username_from_token
          file: backend/src/routes/messages.js
          placeholder: 3
        is_visible: false
  - name: images/jwt_logo_dark.svg
    visible: false
  - name: images/jwt_logo.svg
    visible: false
  - name: backend/src/data/dataServices.js
    visible: true
  - name: backend/src/routes/auth.js
    visible: true
    placeholders:
      - offset: 666
        length: 24
        placeholder_text: // Generate token for the username
        dependency:
          section: Backend
          lesson: Authentication
          task: username_from_token
          file: backend/src/routes/auth.js
          placeholder: 1
        is_visible: false
      - offset: 723
        length: 6
        placeholder_text: /* Add token key-value pair here */
        dependency:
          section: Backend
          lesson: Authentication
          task: username_from_token
          file: backend/src/routes/auth.js
          placeholder: 2
        is_visible: false
      - offset: 1715
        length: 24
        placeholder_text: // Generate token for the username
        dependency:
          section: Backend
          lesson: Authentication
          task: username_from_token
          file: backend/src/routes/auth.js
          placeholder: 3
        is_visible: false
      - offset: 1760
        length: 6
        placeholder_text: /* Add token key-value pair here */
        dependency:
          section: Backend
          lesson: Authentication
          task: username_from_token
          file: backend/src/routes/auth.js
          placeholder: 4
        is_visible: false
  - name: backend/src/index.js
    visible: true
    placeholders:
      - offset: 643
        length: 18
        placeholder_text: /* Add our auth middleware here */
        dependency:
          section: Backend
          lesson: Authentication
          task: username_from_token
          file: backend/src/index.js
          placeholder: 1
        is_visible: false
  - name: backend/src/socket.js
    visible: true
    placeholders:
      - offset: 164
        length: 27
        placeholder_text: // Add authentication middleware here
      - offset: 481
        length: 15
        placeholder_text: data.username
  - name: backend/__tests__/auth.test.js
    visible: true
  - name: backend/__tests__/socket.test.js
    visible: true
  - name: backend/__tests__/messages.test.js
    visible: true
  - name: backend/__tests__/dataServices.test.js
    visible: true
  - name: backend/package.json
    visible: true
  - name: frontend/src/App.css
    visible: true
  - name: frontend/src/App.jsx
    visible: true
  - name: frontend/src/main.jsx
    visible: true
  - name: frontend/src/index.css
    visible: true
  - name: frontend/src/components/Tile.jsx
    visible: true
  - name: frontend/src/components/Login.jsx
    visible: true
  - name: frontend/src/components/Register.jsx
    visible: true
  - name: frontend/src/components/GetMessages.jsx
    visible: true
  - name: frontend/src/components/PostMessage.jsx
    visible: true
  - name: frontend/src/components/DeleteMessage.jsx
    visible: true
  - name: frontend/src/components/WebSocketDelete.jsx
    visible: true
  - name: frontend/src/components/WebSocketSender.jsx
    visible: true
  - name: frontend/src/components/WebSocketMessages.jsx
    visible: true
  - name: frontend/public/academy.svg
    visible: true
  - name: frontend/index.html
    visible: true
  - name: frontend/package.json
    visible: true
  - name: frontend/vite.config.js
    visible: true
  - name: package.json
    visible: true
  - name: backend/scripts/generateSecret.js
    visible: true
  - name: backend/.env
    visible: true
    placeholders:
      - offset: 11
        length: 88
        placeholder_text: update_this_with_the_actual_secret_key_value
        dependency:
          section: Backend
          lesson: Authentication
          task: username_from_token
          file: backend/.env
          placeholder: 1
        is_visible: false
  - name: images/routes_auth.gif
    visible: false
    is_binary: true
  - name: images/username_from_token.gif
    visible: false
    is_binary: true
  - name: test/test.js
    visible: false
    propagatable: false
  - name: images/sockets_auth.gif
    visible: false
    is_binary: true
  - name: images/run.svg
    visible: false
  - name: images/run_dark.svg
    visible: false
  - name: images/run_script.png
    visible: false
    is_binary: true
  - name: images/run_script_dark.png
    visible: false
    is_binary: true
